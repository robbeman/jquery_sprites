/*
 * jQuery spritesheet plugin v0.1
 * Â©2013 Robbe Clerckx
 * https://github.com/robbeman/jquery_sprites#legal-crap
 */
(function(e){"use strict";e.fn.sprite=function(n){var r=e(this);if(r.length<=0)return r;if(t[n]){var i=t[n];if(typeof i==="function"){if(n==="playing"){return r.data("sprite").timeout!=null}else{var s=Array.prototype.slice.call(arguments,1);var o;r.each(function(){o=i.apply(e(this),s);if(o!=null)return false});if(o!=null)return o}}}else if(typeof n==="object"){r.each(function(){t.init.call(e(this),n)})}return r};e.fx.step.frame=function(n){t.frame.call(e(n.elem),n.now)};var t={init:function(t){var n=this.width(),r=this.height(),i=[],s=e.extend({frames:1,sheetWidth:n,sheetHeight:r,frameRate:33},t);if(typeof s.frames==="number"){var o=s.sheetWidth/n;for(var u=0;u<s.frames;u++){i.push([u%o*n,(u/o<<0)*r])}}else{i=s.frames}var a={};a.frames=i;a.current=0;a.totalFrames=i.length;a.frameRate=s.frameRate;this.data("sprite",a)},frame:function(e){var t=this.data("sprite");if(typeof e==="number"){var n=t.frames;if(n){if(e<0){e=0}else if(e>=t.totalFrames){e=t.totalFrames-1}else{e=e+.5<<0}var r=n[e];if(r){this.css("background-position",-r[0]+"px "+ -r[1]+"px");t.current=e}}}else{return t.current}},prev:function(e){var n=this.data("sprite");var r=n.current-1;if(e){if(r<0)r=n.totalFrames-1}t.frame.call(this,r)},next:function(e){var n=this.data("sprite");var r=n.current+1;if(e){if(r>=n.totalFrames)r=0}t.frame.call(this,r)},toggle:function(){var e=this.data("sprite");if(e.timeout){t.pause.call(this)}else{t.play.call(this)}},play:function(){var e=this.data("sprite");var n=1e3/e.frameRate<<0;var r=this;e.timeout=setTimeout(function(){t.next.call(r,true);t.play.call(r)},n)},pause:function(){var e=this.data("sprite");clearTimeout(e.timeout);delete e.timeout}}})($)