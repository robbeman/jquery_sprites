/*
 * jQuery spritesheet plugin v0.1
 * Â©2013 Robbe Clerckx
 * https://github.com/robbeman/jquery_sprites#legal-crap
 */
(function(e){e.cssHooks&&e(function(){e.cssHooks.frame={get:function(a,b,c){return d.frame.call(e(a))},set:function(a,b){return d.frame.call(e(a),b)}}});e.fn.sprite=function(a){var b=e(this);if(0>=b.length)return b;if(d[a]){var c=d[a];if("function"===typeof c){if("playing"===a)return null!=b.data("sprite").timeout;var h=Array.prototype.slice.call(arguments,1),f;b.each(function(){f=c.apply(e(this),h);if(null!=f)return!1});if(null!=f)return f}}else"object"===typeof a&&b.each(function(){d.init.call(e(this),
a)});return b};e.fx.step.frame=function(a){d.frame.call(e(a.elem),a.now)};var d={init:function(a){var b=this.width(),c=this.height(),d=[];a=e.extend({frames:1,sheetWidth:b,sheetHeight:c},a);a.frameRate=a.frameRate||a.framerate||33;if("number"===typeof a.frames)for(var f=a.sheetWidth/b,g=0;g<a.frames;g++)d.push([g%f*b,(g/f<<0)*c]);else d=a.frames;b={};b.frames=d;b.current=0;b.totalFrames=d.length;b.frameRate=a.frameRate;this.data("sprite",b)},frame:function(a){var b=this.data("sprite");if("number"===
typeof a){var c=b.frames;if(c){for(;0>a;)a+=b.totalFrames;for(;a>=b.totalFrames;)a-=b.totalFrames;a=a+0.5<<0;if(c=c[a])this.css("background-position",-c[0]+"px "+-c[1]+"px"),b.current=a}}else return b.current},prev:function(a){var b=this.data("sprite"),c=b.current-1;a&&0>c&&(c=b.totalFrames-1);d.frame.call(this,c)},next:function(a){var b=this.data("sprite"),c=b.current+1;a&&c>=b.totalFrames&&(c=0);d.frame.call(this,c)},toggle:function(){this.data("sprite").timeout?d.pause.call(this):d.play.call(this)},
play:function(){var a=this.data("sprite"),b=this;a.timeout=setTimeout(function(){d.next.call(b,!0);d.play.call(b)},1E3/a.frameRate<<0)},pause:function(){var a=this.data("sprite");clearTimeout(a.timeout);delete a.timeout}}})(jQuery);